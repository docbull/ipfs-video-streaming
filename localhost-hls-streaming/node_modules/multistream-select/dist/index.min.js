(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.MultistreamSelect = factory()}(typeof self !== 'undefined' ? self : this, function () {
var MultistreamSelect=(()=>{var Ot=Object.defineProperty;var xi=r=>Ot(r,"__esModule",{value:!0});var x=(r,e)=>()=>(r&&(e=r(r=0)),e);var w=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),R=(r,e)=>{xi(r);for(var t in e)Ot(r,t,{get:e[t],enumerable:!0})};var Mt=w((lc,vt)=>{var ee=1e3,te=ee*60,re=te*60,X=re*24,bi=X*7,Ei=X*365.25;vt.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Bi(r);if(t==="number"&&isFinite(r))return e.long?Fi(r):Ci(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Bi(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Ei;case"weeks":case"week":case"w":return t*bi;case"days":case"day":case"d":return t*X;case"hours":case"hour":case"hrs":case"hr":case"h":return t*re;case"minutes":case"minute":case"mins":case"min":case"m":return t*te;case"seconds":case"second":case"secs":case"sec":case"s":return t*ee;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Ci(r){var e=Math.abs(r);return e>=X?Math.round(r/X)+"d":e>=re?Math.round(r/re)+"h":e>=te?Math.round(r/te)+"m":e>=ee?Math.round(r/ee)+"s":r+"ms"}function Fi(r){var e=Math.abs(r);return e>=X?Be(r,e,X,"day"):e>=re?Be(r,e,re,"hour"):e>=te?Be(r,e,te,"minute"):e>=ee?Be(r,e,ee,"second"):r+" ms"}function Be(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var qt=w((pc,kt)=>{function Ai(r){t.debug=t,t.default=t,t.coerce=f,t.disable=o,t.enable=i,t.enabled=s,t.humanize=Mt(),t.destroy=l,Object.keys(r).forEach(u=>{t[u]=r[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(u){let h,d=null,b,p;function y(...m){if(!y.enabled)return;let B=y,I=Number(new Date),L=I-(h||I);B.diff=L,B.prev=h,B.curr=I,h=I,m[0]=t.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let A=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(T,S)=>{if(T==="%%")return"%";A++;let D=t.formatters[S];if(typeof D=="function"){let Q=m[A];T=D.call(B,Q),m.splice(A,1),A--}return T}),t.formatArgs.call(B,m),(B.log||t.log).apply(B,m)}return y.namespace=u,y.useColors=t.useColors(),y.color=t.selectColor(u),y.extend=n,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(b!==t.namespaces&&(b=t.namespaces,p=t.enabled(u)),p),set:m=>{d=m}}),typeof t.init=="function"&&t.init(y),y}function n(u,h){let d=t(this.namespace+(typeof h=="undefined"?":":h)+u);return d.log=this.log,d}function i(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let h,d=(typeof u=="string"?u:"").split(/[\s,]+/),b=d.length;for(h=0;h<b;h++)!d[h]||(u=d[h].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...t.names.map(a),...t.skips.map(a).map(h=>"-"+h)].join(",");return t.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let h,d;for(h=0,d=t.skips.length;h<d;h++)if(t.skips[h].test(u))return!1;for(h=0,d=t.names.length;h<d;h++)if(t.names[h].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function f(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}kt.exports=Ai});var Fe=w((U,Ce)=>{U.formatArgs=_i;U.save=Si;U.load=Ui;U.useColors=Ii;U.storage=Li();U.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();U.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ii(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function _i(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Ce.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}U.log=console.debug||console.log||(()=>{});function Si(r){try{r?U.storage.setItem("debug",r):U.storage.removeItem("debug")}catch(e){}}function Ui(){let r;try{r=U.storage.getItem("debug")}catch(e){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function Li(){try{return localStorage}catch(r){}}Ce.exports=qt()(U);var{formatters:Ti}=Ce.exports;Ti.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Pe=w((dc,Pt)=>{"use strict";function jt(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Di(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return jt(r,t)}catch(n){t.message=r.message,t.stack=r.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(r)),jt(new i,t)}}Pt.exports=Di});var Gt=w(Ae=>{"use strict";Ae.byteLength=Ni;Ae.toByteArray=vi;Ae.fromByteArray=qi;var M=[],N=[],Ri=typeof Uint8Array!="undefined"?Uint8Array:Array,$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(W=0,$t=$e.length;W<$t;++W)M[W]=$e[W],N[$e.charCodeAt(W)]=W;var W,$t;N["-".charCodeAt(0)]=62;N["_".charCodeAt(0)]=63;function zt(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Ni(r){var e=zt(r),t=e[0],n=e[1];return(t+n)*3/4-n}function Oi(r,e,t){return(e+t)*3/4-t}function vi(r){var e,t=zt(r),n=t[0],i=t[1],o=new Ri(Oi(r,n,i)),s=0,a=i>0?n-4:n,f;for(f=0;f<a;f+=4)e=N[r.charCodeAt(f)]<<18|N[r.charCodeAt(f+1)]<<12|N[r.charCodeAt(f+2)]<<6|N[r.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=N[r.charCodeAt(f)]<<2|N[r.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=N[r.charCodeAt(f)]<<10|N[r.charCodeAt(f+1)]<<4|N[r.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Mi(r){return M[r>>18&63]+M[r>>12&63]+M[r>>6&63]+M[r&63]}function ki(r,e,t){for(var n,i=[],o=e;o<t;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(Mi(n));return i.join("")}function qi(r){for(var e,t=r.length,n=t%3,i=[],o=16383,s=0,a=t-n;s<a;s+=o)i.push(ki(r,s,s+o>a?a:s+o));return n===1?(e=r[t-1],i.push(M[e>>2]+M[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(M[e>>10]+M[e>>4&63]+M[e<<2&63]+"=")),i.join("")}});var Vt=w(ze=>{ze.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,f=(1<<a)-1,l=f>>1,u=-7,h=t?i-1:0,d=t?-1:1,b=r[e+h];for(h+=d,o=b&(1<<-u)-1,b>>=-u,u+=a;u>0;o=o*256+r[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=s*256+r[e+h],h+=d,u-=8);if(o===0)o=1-l;else{if(o===f)return s?NaN:(b?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-l}return(b?-1:1)*s*Math.pow(2,o-n)};ze.write=function(r,e,t,n,i,o){var s,a,f,l=o*8-i-1,u=(1<<l)-1,h=u>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:o-1,p=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+h>=1?e+=d/f:e+=d*Math.pow(2,1-h),e*f>=2&&(s++,f/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*f-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[t+b]=a&255,b+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;r[t+b]=s&255,b+=p,s/=256,l-=8);r[t+b-p]|=y*128}});var Y=w(se=>{"use strict";var Ge=Gt(),ne=Vt(),Ht=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;se.Buffer=c;se.SlowBuffer=Vi;se.INSPECT_MAX_BYTES=50;var Ie=2147483647;se.kMaxLength=Ie;c.TYPED_ARRAY_SUPPORT=ji();!c.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ji(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}});Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function P(r){if(r>Ie)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,c.prototype),e}function c(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ve(r)}return Xt(r,e,t)}c.poolSize=8192;function Xt(r,e,t){if(typeof r=="string")return $i(r,e);if(ArrayBuffer.isView(r))return zi(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(k(r,ArrayBuffer)||r&&k(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(k(r,SharedArrayBuffer)||r&&k(r.buffer,SharedArrayBuffer)))return Xe(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return c.from(n,e,t);let i=Gi(r);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return c.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}c.from=function(r,e,t){return Xt(r,e,t)};Object.setPrototypeOf(c.prototype,Uint8Array.prototype);Object.setPrototypeOf(c,Uint8Array);function Wt(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Pi(r,e,t){return Wt(r),r<=0?P(r):e!==void 0?typeof t=="string"?P(r).fill(e,t):P(r).fill(e):P(r)}c.alloc=function(r,e,t){return Pi(r,e,t)};function Ve(r){return Wt(r),P(r<0?0:We(r)|0)}c.allocUnsafe=function(r){return Ve(r)};c.allocUnsafeSlow=function(r){return Ve(r)};function $i(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Jt(r,e)|0,n=P(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function He(r){let e=r.length<0?0:We(r.length)|0,t=P(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function zi(r){if(k(r,Uint8Array)){let e=new Uint8Array(r);return Xe(e.buffer,e.byteOffset,e.byteLength)}return He(r)}function Xe(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,c.prototype),n}function Gi(r){if(c.isBuffer(r)){let e=We(r.length)|0,t=P(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Ze(r.length)?P(0):He(r);if(r.type==="Buffer"&&Array.isArray(r.data))return He(r.data)}function We(r){if(r>=Ie)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ie.toString(16)+" bytes");return r|0}function Vi(r){return+r!=r&&(r=0),c.alloc(+r)}c.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==c.prototype};c.compare=function(e,t){if(k(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),k(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0};c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return c.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){let s=e[n];if(k(s,Uint8Array))o+s.length>i.length?(c.isBuffer(s)||(s=c.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(c.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Jt(r,e){if(c.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||k(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Ye(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return cr(r).length;default:if(i)return n?-1:Ye(r).length;e=(""+e).toLowerCase(),i=!0}}c.byteLength=Jt;function Hi(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ro(this,e,t);case"utf8":case"utf-8":return Kt(this,e,t);case"ascii":return eo(this,e,t);case"latin1":case"binary":return to(this,e,t);case"base64":return Ki(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return no(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}c.prototype._isBuffer=!0;function J(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}c.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)J(this,t,t+1);return this};c.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)J(this,t,t+3),J(this,t+1,t+2);return this};c.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)J(this,t,t+7),J(this,t+1,t+6),J(this,t+2,t+5),J(this,t+3,t+4);return this};c.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Kt(this,0,e):Hi.apply(this,arguments)};c.prototype.toLocaleString=c.prototype.toString;c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:c.compare(this,e)===0};c.prototype.inspect=function(){let e="",t=se.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Ht&&(c.prototype[Ht]=c.prototype.inspect);c.prototype.compare=function(e,t,n,i,o){if(k(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-t,f=Math.min(s,a),l=this.slice(i,o),u=e.slice(t,n);for(let h=0;h<f;++h)if(l[h]!==u[h]){s=l[h],a=u[h];break}return s<a?-1:a<s?1:0};function Yt(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Ze(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=c.from(e,n)),c.isBuffer(e))return e.length===0?-1:Zt(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Zt(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Zt(r,e,t,n,i){let o=1,s=r.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,s/=2,a/=2,t/=2}function f(u,h){return o===1?u[h]:u.readUInt16BE(h*o)}let l;if(i){let u=-1;for(l=t;l<s;l++)if(f(r,l)===f(e,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===a)return u*o}else u!==-1&&(l-=l-u),u=-1}else for(t+a>s&&(t=s-a),l=t;l>=0;l--){let u=!0;for(let h=0;h<a;h++)if(f(r,l+h)!==f(e,h)){u=!1;break}if(u)return l}return-1}c.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};c.prototype.indexOf=function(e,t,n){return Yt(this,e,t,n,!0)};c.prototype.lastIndexOf=function(e,t,n){return Yt(this,e,t,n,!1)};function Xi(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(Ze(a))return s;r[t+s]=a}return s}function Wi(r,e,t,n){return _e(Ye(e,r.length-t),r,t,n)}function Ji(r,e,t,n){return _e(co(e),r,t,n)}function Yi(r,e,t,n){return _e(cr(e),r,t,n)}function Zi(r,e,t,n){return _e(ao(e,r.length-t),r,t,n)}c.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Xi(this,e,t,n);case"utf8":case"utf-8":return Wi(this,e,t,n);case"ascii":case"latin1":case"binary":return Ji(this,e,t,n);case"base64":return Yi(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zi(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ki(r,e,t){return e===0&&t===r.length?Ge.fromByteArray(r):Ge.fromByteArray(r.slice(e,t))}function Kt(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let o=r[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=t){let f,l,u,h;switch(a){case 1:o<128&&(s=o);break;case 2:f=r[i+1],(f&192)==128&&(h=(o&31)<<6|f&63,h>127&&(s=h));break;case 3:f=r[i+1],l=r[i+2],(f&192)==128&&(l&192)==128&&(h=(o&15)<<12|(f&63)<<6|l&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:f=r[i+1],l=r[i+2],u=r[i+3],(f&192)==128&&(l&192)==128&&(u&192)==128&&(h=(o&15)<<18|(f&63)<<12|(l&63)<<6|u&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return Qi(n)}var Qt=4096;function Qi(r){let e=r.length;if(e<=Qt)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Qt));return t}function eo(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function to(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function ro(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let o=e;o<t;++o)i+=uo[r[o]];return i}function no(r,e,t){let n=r.slice(e,t),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}c.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,c.prototype),i};function C(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||C(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return i};c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||C(e,t,this.length);let i=this[e+--t],o=1;for(;t>0&&(o*=256);)i+=this[e+--t]*o;return i};c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e=e>>>0,t||C(e,1,this.length),this[e]};c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||C(e,2,this.length),this[e]|this[e+1]<<8};c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||C(e,2,this.length),this[e]<<8|this[e+1]};c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||C(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};c.prototype.readBigUInt64LE=z(function(e){e=e>>>0,oe(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&we(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});c.prototype.readBigUInt64BE=z(function(e){e=e>>>0,oe(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&we(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});c.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||C(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};c.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||C(e,t,this.length);let i=t,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};c.prototype.readInt8=function(e,t){return e=e>>>0,t||C(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};c.prototype.readInt16LE=function(e,t){e=e>>>0,t||C(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};c.prototype.readInt16BE=function(e,t){e=e>>>0,t||C(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};c.prototype.readInt32LE=function(e,t){return e=e>>>0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};c.prototype.readInt32BE=function(e,t){return e=e>>>0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};c.prototype.readBigInt64LE=z(function(e){e=e>>>0,oe(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&we(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});c.prototype.readBigInt64BE=z(function(e){e=e>>>0,oe(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&we(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});c.prototype.readFloatLE=function(e,t){return e=e>>>0,t||C(e,4,this.length),ne.read(this,e,!0,23,4)};c.prototype.readFloatBE=function(e,t){return e=e>>>0,t||C(e,4,this.length),ne.read(this,e,!1,23,4)};c.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||C(e,8,this.length),ne.read(this,e,!0,52,8)};c.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||C(e,8,this.length),ne.read(this,e,!1,52,8)};function _(r,e,t,n,i,o){if(!c.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;_(this,e,t,n,a,0)}let o=1,s=0;for(this[t]=e&255;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n};c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;_(this,e,t,n,a,0)}let o=n-1,s=1;for(this[t+o]=e&255;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n};c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,1,255,0),this[t]=e&255,t+1};c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function er(r,e,t,n,i){sr(e,n,i,r,t,7);let o=Number(e&BigInt(4294967295));r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,t}function tr(r,e,t,n,i){sr(e,n,i,r,t,7);let o=Number(e&BigInt(4294967295));r[t+7]=o,o=o>>8,r[t+6]=o,o=o>>8,r[t+5]=o,o=o>>8,r[t+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=s,s=s>>8,r[t+2]=s,s=s>>8,r[t+1]=s,s=s>>8,r[t]=s,t+8}c.prototype.writeBigUInt64LE=z(function(e,t=0){return er(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});c.prototype.writeBigUInt64BE=z(function(e,t=0){return tr(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let f=Math.pow(2,8*n-1);_(this,e,t,n,f-1,-f)}let o=0,s=1,a=0;for(this[t]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n};c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let f=Math.pow(2,8*n-1);_(this,e,t,n,f-1,-f)}let o=n-1,s=1,a=0;for(this[t+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n};c.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};c.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};c.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};c.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};c.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};c.prototype.writeBigInt64LE=z(function(e,t=0){return er(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});c.prototype.writeBigInt64BE=z(function(e,t=0){return tr(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function rr(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function nr(r,e,t,n,i){return e=+e,t=t>>>0,i||rr(r,e,t,4,34028234663852886e22,-34028234663852886e22),ne.write(r,e,t,n,23,4),t+4}c.prototype.writeFloatLE=function(e,t,n){return nr(this,e,t,!0,n)};c.prototype.writeFloatBE=function(e,t,n){return nr(this,e,t,!1,n)};function ir(r,e,t,n,i){return e=+e,t=t>>>0,i||rr(r,e,t,8,17976931348623157e292,-17976931348623157e292),ne.write(r,e,t,n,52,8),t+8}c.prototype.writeDoubleLE=function(e,t,n){return ir(this,e,t,!0,n)};c.prototype.writeDoubleBE=function(e,t,n){return ir(this,e,t,!1,n)};c.prototype.copy=function(e,t,n,i){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),o};c.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{let s=c.isBuffer(e)?e:c.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var ie={};function Je(r,e,t){ie[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Je("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Je("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Je("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=or(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=or(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function or(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function io(r,e,t){oe(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&we(e,r.length-(t+1))}function sr(r,e,t,n,i,o){if(r>t||r<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${t}${s}`,new ie.ERR_OUT_OF_RANGE("value",a,r)}io(n,i,o)}function oe(r,e){if(typeof r!="number")throw new ie.ERR_INVALID_ARG_TYPE(e,"number",r)}function we(r,e,t){throw Math.floor(r)!==r?(oe(r,t),new ie.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var oo=/[^+/0-9A-Za-z-_]/g;function so(r){if(r=r.split("=")[0],r=r.trim().replace(oo,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function Ye(r,e){e=e||1/0;let t,n=r.length,i=null,o=[];for(let s=0;s<n;++s){if(t=r.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function co(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function ao(r,e){let t,n,i,o=[];for(let s=0;s<r.length&&!((e-=2)<0);++s)t=r.charCodeAt(s),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function cr(r){return Ge.toByteArray(so(r))}function _e(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function k(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Ze(r){return r!==r}var uo=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function z(r){return typeof BigInt=="undefined"?fo:r}function fo(){throw new Error("BigInt not supported")}});var ce=w((xc,ur)=>{"use strict";var{Buffer:v}=Y(),ar=Symbol.for("BufferList");function g(r){if(!(this instanceof g))return new g(r);g._init.call(this,r)}g._init=function(e){Object.defineProperty(this,ar,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};g.prototype._new=function(e){return new g(e)};g.prototype._offset=function(e){if(e===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let i=t+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-t];t=i}};g.prototype._reverseOffset=function(r){let e=r[0],t=r[1];for(let n=0;n<e;n++)t+=this._bufs[n].length;return t};g.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]};g.prototype.slice=function(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};g.prototype.copy=function(e,t,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||v.alloc(0);let o=!!e,s=this._offset(n),a=i-n,f=a,l=o&&t||0,u=s[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:v.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,l),l+=this._bufs[h].length;return e}if(f<=this._bufs[s[0]].length-u)return o?this._bufs[s[0]].copy(e,t,u,u+f):this._bufs[s[0]].slice(u,u+f);o||(e=v.allocUnsafe(a));for(let h=s[0];h<this._bufs.length;h++){let d=this._bufs[h].length-u;if(f>d)this._bufs[h].copy(e,l,u),l+=d;else{this._bufs[h].copy(e,l,u,u+f),l+=d;break}f-=d,u&&(u=0)}return e.length>l?e.slice(0,l):e};g.prototype.shallowSlice=function(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let n=this._offset(e),i=this._offset(t),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};g.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)};g.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};g.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};g.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(v.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(v.from(e));return this};g.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};g.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=v.from([r]):typeof r=="string"?r=v.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=v.from(r.buffer,r.byteOffset,r.byteLength):v.isBuffer(r)||(r=v.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let s=this._bufs[i];for(;o<s.length;)if(s.length-o>=r.length){let f=s.indexOf(r,o);if(f!==-1)return this._reverseOffset([i,f]);o=s.length-r.length+1}else{let f=this._reverseOffset([i,o]);if(this._match(f,r))return f;o++}o=0}return-1};g.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(t){r[t]===null?g.prototype[t]=function(n,i){return this.slice(n,n+i)[t](0,i)}:g.prototype[t]=function(n=0){return this.slice(n,n+r[t])[t](0)}})(e)})();g.prototype._isBufferList=function(e){return e instanceof g||g.isBufferList(e)};g.isBufferList=function(e){return e!=null&&e[ar]};ur.exports=g});var lr=w((bc,hr)=>{hr.exports=Ke;var fr=128,ho=127,lo=~ho,po=Math.pow(2,31);function Ke(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw Ke.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=po;)e[t++]=r&255|fr,r/=128;for(;r&lo;)e[t++]=r&255|fr,r>>>=7;return e[t]=r|0,Ke.bytes=t-n+1,e}});var wr=w((Ec,dr)=>{dr.exports=Qe;var wo=128,pr=127;function Qe(r,e){var t=0,e=e||0,n=0,i=e,o,s=r.length;do{if(i>=s||n>49)throw Qe.bytes=0,new RangeError("Could not decode varint");o=r[i++],t+=n<28?(o&pr)<<n:(o&pr)*Math.pow(2,n),n+=7}while(o>=wo);return Qe.bytes=i-e,t}});var mr=w((Bc,yr)=>{var yo=Math.pow(2,7),mo=Math.pow(2,14),go=Math.pow(2,21),xo=Math.pow(2,28),bo=Math.pow(2,35),Eo=Math.pow(2,42),Bo=Math.pow(2,49),Co=Math.pow(2,56),Fo=Math.pow(2,63);yr.exports=function(r){return r<yo?1:r<mo?2:r<go?3:r<xo?4:r<bo?5:r<Eo?6:r<Bo?7:r<Co?8:r<Fo?9:10}});var et=w((Cc,gr)=>{gr.exports={encode:lr(),decode:wr(),encodingLength:mr()}});var tt=w((Fc,Er)=>{"use strict";var xr=et(),{Buffer:Ao}=Y(),br=(r,e,t)=>{let n=xr.encode(r,e,t);return br.bytes=xr.encode.bytes,e||Ao.from(n)};Er.exports=br});var _r=w((Ac,Se)=>{"use strict";var{Buffer:Br}=Y(),Cr=ce(),Fr=tt(),rt=8,Ar=10*1024;function Ir(r){r=r||{};let e=Math.max(r.poolSize||Ar,r.minPoolSize||rt),t=r.lengthEncoder||Fr;return async function*(i){let o=Br.alloc(e),s=0;for await(let a of i){t(a.length,o,s);let f=o.slice(s,s+t.bytes);s+=t.bytes,o.length-s<rt&&(o=Br.alloc(e),s=0),yield new Cr().append(f).append(a)}}}Ir.single=(r,e)=>{e=e||{};let t=e.lengthEncoder||Fr;return new Cr([t(r.length),r.slice()])};Se.exports=Ir;Se.exports.MIN_POOL_SIZE=rt;Se.exports.DEFAULT_POOL_SIZE=Ar});var nt=w((Ic,Lr)=>{"use strict";var Sr=et(),{Buffer:Io}=Y(),_o=r=>new Proxy({},{get:(e,t)=>t[0]==="l"?r[t]:r.get(parseInt(t))}),Ur=r=>{let e=Sr.decode(Io.isBuffer(r)?r:_o(r));return Ur.bytes=Sr.decode.bytes,e};Lr.exports=Ur});var Nr=w((_c,Ue)=>{"use strict";var{Buffer:So}=Y(),it=ce(),Uo=nt(),Tr=8,Dr=1024*1024*4,Rr=So.alloc(0),G={LENGTH:"readLength",DATA:"readData"},Lo={[G.LENGTH]:(r,e,t,n)=>{e=e.append(r);let i;try{i=n.lengthDecoder(e)}catch(o){if(e.length>n.maxLengthLength)throw Object.assign(o,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(o instanceof RangeError)return{mode:G.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw o}if(i>n.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return r=e.shallowSlice(n.lengthDecoder.bytes),e=new it,n.onLength&&n.onLength(i),i<=0?(n.onData&&n.onData(Rr),{mode:G.LENGTH,chunk:r,buffer:e,data:Rr}):{mode:G.DATA,chunk:r,buffer:e,state:{dataLength:i},data:void 0}},[G.DATA]:(r,e,t,n)=>{if(e=e.append(r),!t)throw new Error("state is required");if(e.length<t.dataLength)return{mode:G.DATA,buffer:e,state:t,chunk:void 0,data:void 0};let{dataLength:i}=t,o=e.shallowSlice(0,i),s=e.length>i?e.shallowSlice(i):void 0;return e=new it,n.onData&&n.onData(o),{mode:G.LENGTH,chunk:s,buffer:e,state:void 0,data:o}}};function ot(r){r=r||{};let e={lengthDecoder:r.lengthDecoder||Uo,maxLengthLength:r.maxLengthLength||Tr,maxDataLength:r.maxDataLength||Dr,onLength:r.onLength,onData:r.onData};return async function*(n){let i=new it,o=G.LENGTH,s;for await(let a of n){let f=a;for(;f;){let l=Lo[o](f,i,s,e);o=l.mode,f=l.chunk,i=l.buffer,s=l.state,l.data&&(yield l.data)}}if(i.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}ot.fromReader=(r,e)=>{let t=1,n={[Symbol.asyncIterator](){return this},next:async()=>{try{return await r.next(t)}catch(o){if(o.code==="ERR_UNDER_READ")return{done:!0,value:null};throw o}finally{t=1}}};return ot({...e||{},onLength:o=>{t=o}})(n)};Ue.exports=ot;Ue.exports.MAX_LENGTH_LENGTH=Tr;Ue.exports.MAX_DATA_LENGTH=Dr});var Mr=w((Sc,vr)=>{"use strict";var{Buffer:To}=Y(),Or=(r,e,t)=>(e=e||To.allocUnsafe(4),e.writeInt32BE(r,t),e);Or.bytes=4;vr.exports=Or});var jr=w((Uc,qr)=>{"use strict";var kr=r=>{if(r.length<4)throw RangeError("Could not decode int32BE");return r.readInt32BE(0)};kr.bytes=4;qr.exports=kr});var st=w(Z=>{"use strict";Z.encode=_r();Z.decode=Nr();Z.varintEncode=tt();Z.varintDecode=nt();Z.int32BEEncode=Mr();Z.int32BEDecode=jr()});var at=w((Tc,ae)=>{var Pr=(...r)=>{let e;for(;r.length;)e=r.shift()(e);return e},ct=r=>r&&(typeof r[Symbol.asyncIterator]=="function"||typeof r[Symbol.iterator]=="function"||typeof r.next=="function"),Le=r=>r&&typeof r.sink=="function"&&ct(r.source),Do=r=>e=>(r.sink(e),r.source),$r=(...r)=>{if(Le(r[0])){let e=r[0];r[0]=()=>e.source}else if(ct(r[0])){let e=r[0];r[0]=()=>e}if(r.length>1&&Le(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let e=1;e<r.length-1;e++)Le(r[e])&&(r[e]=Do(r[e]));return Pr(...r)};ae.exports=$r;ae.exports.pipe=$r;ae.exports.rawPipe=Pr;ae.exports.isIterable=ct;ae.exports.isDuplex=Le});function Ro(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(t[s]!==255)throw new TypeError(o+" is ambiguous");t[s]=i}var a=r.length,f=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,m=0,B=0,I=p.length;B!==I&&p[B]===0;)B++,y++;for(var L=(I-B)*u+1>>>0,A=new Uint8Array(L);B!==I;){for(var O=p[B],T=0,S=L-1;(O!==0||T<m)&&S!==-1;S--,T++)O+=256*A[S]>>>0,A[S]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");m=T,B++}for(var D=L-m;D!==L&&A[D]===0;)D++;for(var Q=f.repeat(y);D<L;++D)Q+=r.charAt(A[D]);return Q}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var m=0,B=0;p[y]===f;)m++,y++;for(var I=(p.length-y)*l+1>>>0,L=new Uint8Array(I);p[y];){var A=t[p.charCodeAt(y)];if(A===255)return;for(var O=0,T=I-1;(A!==0||O<B)&&T!==-1;T--,O++)A+=a*L[T]>>>0,L[T]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");B=O,y++}if(p[y]!==" "){for(var S=I-B;S!==I&&L[S]===0;)S++;for(var D=new Uint8Array(m+(I-S)),Q=m;S!==I;)D[Q++]=L[S++];return D}}}function b(p){var y=d(p);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:b}}var No,Oo,zr,Gr=x(()=>{No=Ro,Oo=No,zr=Oo});var Rc,Vr,$,Hr,Xr,V=x(()=>{Rc=new Uint8Array(0),Vr=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},$=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Hr=r=>new TextEncoder().encode(r),Xr=r=>new TextDecoder().decode(r)});var Jr,Yr,Zr,Kr,Qr,Te,H,vo,Mo,E,q=x(()=>{Gr();V();Jr=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Yr=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){return Kr(this,e)}},Zr=class{constructor(e){this.decoders=e}or(e){return Kr(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Kr=(r,e)=>new Zr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Qr=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new Jr(e,t,n),this.decoder=new Yr(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Te=({name:r,prefix:e,encode:t,decode:n})=>new Qr(r,e,t,n),H=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=zr(t,e);return Te({prefix:r,name:e,encode:n,decode:o=>$(i(o))})},vo=(r,e,t,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=r.length;for(;r[o-1]==="=";)--o;let s=new Uint8Array(o*t/8|0),a=0,f=0,l=0;for(let u=0;u<o;++u){let h=i[r[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|h,a+=t,a>=8&&(a-=8,s[l++]=255&f>>a)}if(a>=t||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return s},Mo=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,o="",s=0,a=0;for(let f=0;f<r.length;++f)for(a=a<<8|r[f],s+=8;s>t;)s-=t,o+=e[i&a>>s];if(s&&(o+=e[i&a<<t-s]),n)for(;o.length*t&7;)o+="=";return o},E=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Te({prefix:e,name:r,encode(i){return Mo(i,n,t)},decode(i){return vo(i,n,t,r)}})});var ut={};R(ut,{identity:()=>ko});var ko,en=x(()=>{q();V();ko=Te({prefix:"\0",name:"identity",encode:r=>Xr(r),decode:r=>Hr(r)})});var ft={};R(ft,{base2:()=>qo});var qo,tn=x(()=>{q();qo=E({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var ht={};R(ht,{base8:()=>jo});var jo,rn=x(()=>{q();jo=E({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var lt={};R(lt,{base10:()=>Po});var Po,nn=x(()=>{q();Po=H({prefix:"9",name:"base10",alphabet:"0123456789"})});var pt={};R(pt,{base16:()=>$o,base16upper:()=>zo});var $o,zo,on=x(()=>{q();$o=E({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zo=E({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var dt={};R(dt,{base32:()=>ue,base32hex:()=>Xo,base32hexpad:()=>Jo,base32hexpadupper:()=>Yo,base32hexupper:()=>Wo,base32pad:()=>Vo,base32padupper:()=>Ho,base32upper:()=>Go,base32z:()=>Zo});var ue,Go,Vo,Ho,Xo,Wo,Jo,Yo,Zo,wt=x(()=>{q();ue=E({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Go=E({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vo=E({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ho=E({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xo=E({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Wo=E({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Jo=E({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Yo=E({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zo=E({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var yt={};R(yt,{base36:()=>Ko,base36upper:()=>Qo});var Ko,Qo,sn=x(()=>{q();Ko=H({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Qo=H({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var mt={};R(mt,{base58btc:()=>j,base58flickr:()=>es});var j,es,gt=x(()=>{q();j=H({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),es=H({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var xt={};R(xt,{base64:()=>ts,base64pad:()=>rs,base64url:()=>ns,base64urlpad:()=>is});var ts,rs,ns,is,cn=x(()=>{q();ts=E({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rs=E({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ns=E({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),is=E({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function un(r,e,t){e=e||[],t=t||0;for(var n=t;r>=as;)e[t++]=r&255|an,r/=128;for(;r&cs;)e[t++]=r&255|an,r>>>=7;return e[t]=r|0,un.bytes=t-n+1,e}function bt(r,e){var t=0,e=e||0,n=0,i=e,o,s=r.length;do{if(i>=s)throw bt.bytes=0,new RangeError("Could not decode varint");o=r[i++],t+=n<28?(o&fn)<<n:(o&fn)*Math.pow(2,n),n+=7}while(o>=fs);return bt.bytes=i-e,t}var os,an,ss,cs,as,us,fs,fn,hs,ls,ps,ds,ws,ys,ms,gs,xs,bs,Es,Bs,ye,hn=x(()=>{os=un,an=128,ss=127,cs=~ss,as=Math.pow(2,31);us=bt,fs=128,fn=127;hs=Math.pow(2,7),ls=Math.pow(2,14),ps=Math.pow(2,21),ds=Math.pow(2,28),ws=Math.pow(2,35),ys=Math.pow(2,42),ms=Math.pow(2,49),gs=Math.pow(2,56),xs=Math.pow(2,63),bs=function(r){return r<hs?1:r<ls?2:r<ps?3:r<ds?4:r<ws?5:r<ys?6:r<ms?7:r<gs?8:r<xs?9:10},Es={encode:os,decode:us,encodingLength:bs},Bs=Es,ye=Bs});var me,fe,he,De=x(()=>{hn();me=r=>[ye.decode(r),ye.decode.bytes],fe=(r,e,t=0)=>(ye.encode(r,e,t),e),he=r=>ye.encodingLength(r)});var Re,pn,dn,ge,Ne=x(()=>{V();De();Re=(r,e)=>{let t=e.byteLength,n=he(r),i=n+he(t),o=new Uint8Array(i+t);return fe(r,o,0),fe(t,o,n),o.set(e,i),new ge(r,t,e,o)},pn=r=>{let e=$(r),[t,n]=me(e),[i,o]=me(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new ge(t,i,s,e)},dn=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Vr(r.bytes,e.bytes),ge=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}});var xe,yn,Oe=x(()=>{Ne();xe=({name:r,code:e,encode:t})=>new yn(r,e,t),yn=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){let t=await this.encode(e);return Re(this.code,t)}else throw Error("Unknown type, must be binary type")}}});var Et={};R(Et,{sha256:()=>Cs,sha512:()=>Fs});var gn,Cs,Fs,xn=x(()=>{Oe();gn=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Cs=xe({name:"sha2-256",code:18,encode:gn("SHA-256")}),Fs=xe({name:"sha2-512",code:19,encode:gn("SHA-512")})});var Bt={};R(Bt,{identity:()=>As});var As,bn=x(()=>{Oe();V();As=xe({name:"identity",code:0,encode:r=>$(r)})});var En=x(()=>{V()});var ra,na,Bn=x(()=>{ra=new TextEncoder,na=new TextDecoder});var F,Ss,Us,Ls,be,Ts,Cn,Fn,ve,Me,Ds,Rs,Ns,An=x(()=>{De();Ne();gt();wt();V();F=class{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Me,byteLength:Me,code:ve,version:ve,multihash:ve,bytes:ve,_baseCache:Me,asCID:Me})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==be)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Ts)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return F.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=Re(e,t);return F.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&dn(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return Us(t,i,e||j.encoder);default:return Ls(t,i,e||ue.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Rs(/^0\.0/,Ns),!!(e&&(e[Fn]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof F)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:o}=e;return new F(t,n,i,o||Cn(t,n,i.bytes))}else if(e!=null&&e[Fn]===!0){let{version:t,multihash:n,code:i}=e,o=pn(n);return F.create(t,i,o)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==be)throw new Error(`Version 0 CID must use dag-pb (code: ${be}) block encoding`);return new F(e,t,n,n.bytes)}case 1:{let i=Cn(e,t,n.bytes);return new F(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return F.create(0,be,e)}static createV1(e,t){return F.create(1,e,t)}static decode(e){let[t,n]=F.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=F.inspectBytes(e),n=t.size-t.multihashSize,i=$(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=i.subarray(t.multihashSize-t.digestSize),s=new ge(t.multihashCode,t.digestSize,o,i);return[t.version===0?F.createV0(s):F.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[h,d]=me(e.subarray(t));return t+=d,h},i=n(),o=be;if(i===18?(i=0,t=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=t,a=n(),f=n(),l=t+f,u=l-s;return{version:i,codec:o,multihashCode:a,digestSize:f,multihashSize:u,size:l}}static parse(e,t){let[n,i]=Ss(e,t),o=F.decode(i);return o._baseCache.set(n,e),o}},Ss=(r,e)=>{switch(r[0]){case"Q":{let t=e||j;return[j.prefix,t.decode(`${j.prefix}${r}`)]}case j.prefix:{let t=e||j;return[j.prefix,t.decode(r)]}case ue.prefix:{let t=e||ue;return[ue.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},Us=(r,e,t)=>{let{prefix:n}=t;if(n!==j.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let o=t.encode(r).slice(1);return e.set(n,o),o}else return i},Ls=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let o=t.encode(r);return e.set(n,o),o}else return i},be=112,Ts=18,Cn=(r,e,t)=>{let n=he(r),i=n+he(e),o=new Uint8Array(i+t.byteLength);return fe(r,o,0),fe(e,o,n),o.set(t,i),o},Fn=Symbol.for("@ipld/js-cid/CID"),ve={writable:!1,configurable:!1,enumerable:!0},Me={writable:!1,enumerable:!1,configurable:!1},Ds="0.0.0-dev",Rs=(r,e)=>{if(r.test(Ds))console.warn(e);else throw new Error(e)},Ns=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var In=x(()=>{An();De();V();Oe();Ne()});var Ct,pa,_n=x(()=>{en();tn();rn();nn();on();wt();sn();gt();cn();xn();bn();En();Bn();In();Ct={...ut,...ft,...ht,...lt,...pt,...dt,...yt,...mt,...xt},pa={...Et,...Bt}});function Sn(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var Un,Ft,Os,Ln,Tn=x(()=>{_n();Un=Sn("utf8","u",r=>{let e=new TextDecoder("utf8");return"u"+e.decode(r)},r=>new TextEncoder().encode(r.substring(1))),Ft=Sn("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Os={utf8:Un,"utf-8":Un,hex:Ct.base16,latin1:Ft,ascii:Ft,binary:Ft,...Ct},Ln=Os});var Dn={};R(Dn,{fromString:()=>vs});function vs(r,e="utf8"){let t=Ln[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${r}`)}var Rn=x(()=>{Tn()});var On=w((ga,Nn)=>{"use strict";var Ms=async r=>{for await(let e of r)return e};Nn.exports=Ms});var Mn=w((xa,vn)=>{vn.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var qn=w((Ea,kn)=>{kn.exports=class extends Error{constructor(e,t){super(e||"The operation was aborted");this.type="aborted",this.code=t||"ABORT_ERR"}}});var zn=w((Ba,K)=>{var ks=Mn(),At=qn(),jn=(r,e,t)=>It(r,Array.isArray(e)?e:[{signal:e,options:t}]),It=(r,e)=>{r=ks(r),e=e.map(({signal:n,options:i})=>({signal:n,options:i||{}}));async function*t(){let n,i=()=>{n&&n()};for(let{signal:o}of e)o.addEventListener("abort",i);for(;;){let o;try{for(let{signal:a,options:f}of e)if(a.aborted){let{abortMessage:l,abortCode:u}=f;throw new At(l,u)}let s=new Promise((a,f)=>{n=()=>{let{options:l}=e.find(({signal:d})=>d.aborted),{abortMessage:u,abortCode:h}=l;f(new At(u,h))}});o=await Promise.race([s,r.next()]),n=null}catch(s){for(let{signal:l}of e)l.removeEventListener("abort",i);let a=e.find(({signal:l})=>l.aborted),f=s.type==="aborted"&&a;if(f&&a.options.onAbort&&await a.options.onAbort(r),typeof r.return=="function"&&await r.return(),f&&a.options.returnOnAbort)return;throw s}if(o.done)break;yield o.value}for(let{signal:o}of e)o.removeEventListener("abort",i)}return t()},Pn=(r,e,t)=>$n(r,Array.isArray(e)?e:[{signal:e,options:t}]),$n=(r,e)=>t=>r(It(t,e)),qs=(r,e,t)=>js(r,Array.isArray(e)?e:[{signal:e,options:t}]),js=(r,e)=>({sink:$n(r.sink,e),source:It(r.source,e)});K.exports=jn;K.exports.AbortError=At;K.exports.source=jn;K.exports.sink=Pn;K.exports.transform=Pn;K.exports.duplex=qs});var ke=w((Ca,Xn)=>{"use strict";var Gn=ce(),Vn=st(),{pipe:Ps}=at(),$s=Pe(),{fromString:zs}=(Rn(),Dn),Gs=On(),{source:Vs}=zn(),Hn=zs(`
`);function _t(r){return Vn.encode.single(new Gn([r,Hn]))}function Hs(r,e){r.push(_t(e))}async function Xs(r,e){r.push(e.reduce((t,n)=>t.append(_t(n)),new Gn))}async function Ws(r,e){let t=1,n={[Symbol.asyncIterator](){return this},next:()=>r.next(t)},i=n;e&&e.signal&&(i=Vs(n,e.signal));let o=a=>{t=a},s=await Ps(i,Vn.decode({onLength:o}),Gs);if(s.get(s.length-1)!==Hn[0])throw $s(new Error("missing newline"),"ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return s.shallowSlice(0,-1)}Xn.exports={encode:_t,write:Hs,writeAll:Xs,read:Ws}});var Ut=w((Fa,Wn)=>{var St=ce();Wn.exports=r=>{let e=async function*(){let t=yield,n=new St;for await(let i of r){if(!t){t=yield n.append(i),n=new St;continue}for(n.append(i);n.length>=t;){let o=n.shallowSlice(0,t);if(n.consume(t),t=yield o,!t){n.length&&(t=yield n,n=new St);break}}}if(t)throw Object.assign(new Error(`stream ended before ${t} bytes became available`),{code:"ERR_UNDER_READ",buffer:n})}();return e.next(),e}});var Yn=w((Ia,Jn)=>{Jn.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var Qn=w((Sa,Kn)=>{var Zn=Yn();Kn.exports=class{constructor(e){this.hwm=e||16,this.head=new Zn(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let t=this.head;this.head=t.next=new Zn(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var ti=w((Ua,ei)=>{var Lt=Qn();ei.exports=r=>{r=r||{};let e;typeof r=="function"?(e=r,r={}):e=r.onEnd;let t=new Lt,n,i,o,s=()=>{if(!t.isEmpty()){if(r.writev){let y,m=[];for(;!t.isEmpty();){if(y=t.shift(),y.error)throw y.error;m.push(y.value)}return{done:y.done,value:m}}let p=t.shift();if(p.error)throw p.error;return p}return o?{done:!0}:new Promise((p,y)=>{i=m=>(i=null,m.error?y(m.error):r.writev&&!m.done?p({done:m.done,value:[m.value]}):p(m),n)})},a=p=>i?i(p):(t.push(p),n),f=p=>(t=new Lt,i?i({error:p}):(t.push({error:p}),n)),l=p=>o?n:a({done:!1,value:p}),u=p=>o?n:(o=!0,p?f(p):a({done:!0})),h=()=>(t=new Lt,u(),{done:!0}),d=p=>(u(p),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:s,return:h,throw:d,push:l,end:u},!e)return n;let b=n;return n={[Symbol.asyncIterator](){return this},next(){return b.next()},throw(p){return b.throw(p),e&&(e(p),e=null),{done:!0}},return(){return b.return(),e&&(e(),e=null),{done:!0}},push:l,end(p){return b.end(p),e&&(e(p),e=null),n}},n}});var ni=w((La,ri)=>{"use strict";var Js=()=>{let r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r};ri.exports=Js});var qe=w((Ta,ii)=>{"use strict";var Ys=Ut(),Zs=ti(),Ks=ni();ii.exports=r=>{let e=Zs(),t=Ys(r.source),n=Ks(),i,o=r.sink(async function*(){yield*e,yield*await n.promise}());return o.catch(a=>{i=a}),{reader:t,writer:e,stream:{sink:a=>i?Promise.reject(i):(n.resolve(a),o),source:t},rest:()=>e.end(),write:e.push,read:async()=>(await t.next()).value}}});var ci=w((Da,si)=>{"use strict";var oi=Fe(),Qs=Pe(),le=ke(),ec=qe(),pe=Object.assign(oi("mss:select"),{error:oi("mss:select:error")});si.exports=async function(e,t,n,i){t=Array.isArray(t)?[...t]:[t];let{reader:o,writer:s,rest:a,stream:f}=ec(e),l=t.shift();if(!l)throw new Error("At least one protocol must be specified");n?(pe('select: write ["%s", "%s"]',n,l),le.writeAll(s,[n,l])):(pe('select: write "%s"',l),le.write(s,l));let u=(await le.read(o,i)).toString();if(pe('select: read "%s"',u),u===n&&(u=(await le.read(o,i)).toString(),pe('select: read "%s"',u)),u===l)return a(),{stream:f,protocol:l};for(let h of t){pe('select: write "%s"',h),le.write(s,h);let d=(await le.read(o,i)).toString();if(pe('select: read "%s" for "%s"',d,h),d===h)return a(),{stream:f,protocol:h}}throw a(),Qs(new Error("protocol selection failed"),"ERR_UNSUPPORTED_PROTOCOL")}});var Tt=w(ai=>{"use strict";ai.PROTOCOL_ID="/multistream/1.0.0"});var hi=w((Na,fi)=>{"use strict";var ui=Fe(),tc=ce(),de=ke(),rc=qe(),{PROTOCOL_ID:Dt}=Tt(),Ee=Object.assign(ui("mss:handle"),{error:ui("mss:handle:error")});fi.exports=async function(e,t,n){t=Array.isArray(t)?t:[t];let{writer:i,reader:o,rest:s,stream:a}=rc(e);for(;;){let f=(await de.read(o,n)).toString();if(Ee('read "%s"',f),f===Dt){Ee('respond with "%s" for "%s"',Dt,f),de.write(i,Dt);continue}if(t.includes(f))return de.write(i,f),Ee('respond with "%s" for "%s"',f,f),s(),{stream:a,protocol:f};if(f==="ls"){de.write(i,new tc(t.map(l=>de.encode(l)))),Ee('respond with "%s" for %s',t,f);continue}de.write(i,"na"),Ee('respond with "na" for "%s"',f)}}});var wi=w((Oa,di)=>{"use strict";var nc=Ut(),li=Fe(),pi=ke(),ic=qe(),oc=st(),{pipe:sc}=at(),cc=Object.assign(li("mss:ls"),{error:li("mss:ls:error")});di.exports=async function(e,t){let{reader:n,writer:i,rest:o,stream:s}=ic(e);cc('write "ls"'),pi.write(i,"ls"),o();let a=await pi.read(n,t),f=nc([a]),l=[];return await sc(f,oc.decode(),async h=>{for await(let d of h)l.push(d.shallowSlice(0,-1).toString())}),{stream:s,protocols:l}}});var fc=w(je=>{"use strict";var yi=ci(),ac=hi(),uc=wi(),{PROTOCOL_ID:Rt}=Tt();je.PROTOCOL_ID=Rt;var Nt=class{constructor(e){this._stream=e,this._shaken=!1}async _handshake(e){if(this._shaken)return;let{stream:t}=await yi(this._stream,Rt,void 0,e);this._stream=t,this._shaken=!0}},mi=class extends Nt{select(e,t){return yi(this._stream,e,this._shaken?void 0:Rt,t)}async ls(e){await this._handshake(e);let t=await uc(this._stream,e),{stream:n,protocols:i}=t;return this._stream=n,i}};je.Dialer=mi;var gi=class extends Nt{handle(e,t){return ac(this._stream,e,t)}};je.Listener=gi});return fc();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return MultistreamSelect}));
